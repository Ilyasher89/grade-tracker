<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <title>Grade Tracker</title>
    <link rel="stylesheet" th:href="@{/css/custom-style.css}">
</head>
<body>
<!-- –ù–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω–æ–µ –º–µ–Ω—é -->
<nav class="navbar">
    <div class="nav-brand">üìä Grade Tracker</div>
    <div class="nav-links">
        <span sec:authentication="name" class="user-info"></span>
        <a th:href="@{/grades}">–ì–ª–∞–≤–Ω–∞—è</a>

        <!-- –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ ADMIN -->
        <a sec:authorize="hasRole('ADMIN')" th:href="@{/grades/add}">–î–æ–±–∞–≤–∏—Ç—å –æ—Ü–µ–Ω–∫—É</a>

        <!-- –ö–Ω–æ–ø–∫–∞ –≤—ã—Ö–æ–¥–∞ -->
        <form th:action="@{/auth/logout}" method="post" style="display: inline;">
            <button type="submit">–í—ã–π—Ç–∏</button>
        </form>
    </div>
</nav>

<div class="container">
    <h1>–°–ø–∏—Å–æ–∫ –æ—Ü–µ–Ω–æ–∫</h1>

    <!-- –¢–∞–±–ª–∏—Ü–∞ –æ—Ü–µ–Ω–æ–∫ -->
    <table class="grades-table">
        <thead>
        <tr>
            <th>–°—Ç—É–¥–µ–Ω—Ç</th>
            <th>–ü—Ä–µ–¥–º–µ—Ç</th>
            <th>–û—Ü–µ–Ω–∫–∞</th>
            <th sec:authorize="hasRole('ADMIN')">–î–µ–π—Å—Ç–≤–∏—è</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="grade : ${grades}">
            <td th:text="${grade.studentName}"></td>
            <td th:text="${grade.subject}"></td>
            <td th:text="${grade.grade}"></td>
            <td sec:authorize="hasRole('ADMIN')">
                <a th:href="@{/grades/edit/{id}(id=${grade.id})}" class="btn-edit">‚úèÔ∏è</a>
                <a th:href="@{/grades/delete/{id}(id=${grade.id})}"
                   class="btn-delete"
                   onclick="return confirm('–£–¥–∞–ª–∏—Ç—å —ç—Ç—É –æ—Ü–µ–Ω–∫—É?')">üóëÔ∏è</a>
            </td>
        </tr>
        </tbody>
    </table>

    <!-- –°–æ–æ–±—â–µ–Ω–∏–µ –µ—Å–ª–∏ –Ω–µ—Ç –æ—Ü–µ–Ω–æ–∫ -->
    <div th:if="${grades.empty}" class="empty-message">
        –ù–µ—Ç –æ—Ü–µ–Ω–æ–∫ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
    </div>
</div>
</body>
</html>